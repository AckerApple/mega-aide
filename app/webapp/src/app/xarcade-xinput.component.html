<robust-select-directory label="XArcade XInput" [reloadPath]="session.config.xarcadeXinput.path"
  (directoryManagerChange)="session.save();readDir($event)"
  (error)="session.error('could not load XArcade XInput path', $event)"
  [pickerId]="xarcadeXinputPickerId"
></robust-select-directory>

<div *ngIf="!mappingFileNames.length">
  <br />
  <div class="text-center">
    ⬆️ Select XArcade XInput folder above to unlock features below ⬇️
    <br /><br />
    <a class="text-xs bg-positive pad-h pad-v-xs"
      (click)="viewMoreInfo = !viewMoreInfo"
    >ℹ️ more info</a>
  </div>
  <p *ngIf="viewMoreInfo" class="bg-positive pad">
    ℹ️ When you select your XArcade XInput folder, settings files will be read to offer features.
    <br /><br />
    Such features include:
    <li>A robust controller mapping interface</li>
    <li>and more...</li>
  </p>
</div>

<ng-container *ngIf="mappingFileNames.length">
  <h3>Mapping files</h3>
  <p>Choose a file to work with below...</p>
  <hr class="border-1 border-white" />
  <div class="flex-stacked child-margin-xxs">
    <ng-container *ngFor="let fileName of mappingFileNames; let index=index">
      <a class="text-white"
        [routerLink]="'mapping/' + fileName"
      >📄 {{ fileName }}</a>
    </ng-container>
  </div>
</ng-container>

<br />

<div class="flex-wrap child-margin-xxs">
  <a *ngIf="session.launchBoxDirectory && session.launchBoxXarcadeDir === session.xarcadeDirectory"
    class="flex-1" type="button" routerLink="/launchbox"
  >🧰 LaunchBox</a>
  
  <button type="button" *ngIf="configHasChanges" class="bg-balanced flex1 active-bg-energized"
    (click)="saveFiles()"
  >💾 save changes</button>
</div>

<br />

<div class="text-center child-margin-xs pad">
  <div class="opacity-80 text-xs">🔗 helpful links</div>
  <a href="https://learn.microsoft.com/en-us/dotnet/api/system.windows.forms.keys"
    (click)="openAnchor($event)" target="_blank" class="text-white underline"
  >Windows keys</a>

  <a href="https://github.com/mikew/xarcade-xinput"
    (click)="openAnchor($event)" target="_blank" class="text-white underline"
  >XArcade XInput</a>
</div>
